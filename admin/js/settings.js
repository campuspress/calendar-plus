(function(){var __webpack_modules__={840:function(){eval("(function () {\r\n\t'use strict';\r\n\r\n\tlet usersList = document.getElementById('calendarp-users');\r\n\tlet allowUserButton = document.getElementById('allow-user-add');\r\n\tlet allowUserSelector = document.getElementById('allow-user');\r\n\r\n\t/**\r\n\t * Make an AJAX call\r\n\t */\r\n\tfunction call(action, data) {\r\n\t\tdata.action = action;\r\n\t\tdata.nonce = calendarpSettings.nonce;\r\n\t\treturn jQuery.post(ajaxurl, data);\r\n\t}\r\n\r\n\t/**\r\n\t * Remove a user row\r\n\t */\r\n\tfunction removeUserRowElement(id) {\r\n\t\tif (confirm('Are you sure?')) {\r\n\t\t\tlet element = document.getElementById('calendarp-' + id);\r\n\t\t\tif (element) {\r\n\t\t\t\telement.parentNode.removeChild(element);\r\n\t\t\t\tcall('calendarp_remove_user', {id: id});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new user row\r\n\t */\r\n\tfunction addUserRowElement(user) {\r\n\t\tlet listNode, linkNode, removeNode, spanNode;\r\n\r\n\t\t// Create the list item\r\n\t\tlistNode = document.createElement('li');\r\n\t\tlistNode.id = 'calendarp-' + user.id;\r\n\r\n\t\tif (user.link) {\r\n\t\t\t// User has edit link\r\n\t\t\tlinkNode = document.createElement('a');\r\n\t\t\tlinkNode.href = user.link;\r\n\t\t\tlinkNode.innerHTML = user.name;\r\n\t\t\tlinkNode.title = user.linkTitle;\r\n\t\t\tlistNode.appendChild(linkNode);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspanNode = document.createElement('span');\r\n\t\t\tspanNode.innerHTML = user.name;\r\n\t\t\tlistNode.appendChild(spanNode);\r\n\t\t}\r\n\r\n\t\tif (user.removable) {\r\n\t\t\t// The remove link. Only for users that are not the current one\r\n\t\t\tremoveNode = document.createElement('a');\r\n\t\t\tremoveNode.setAttribute('data-id', user.id);\r\n\t\t\tremoveNode.href = '#';\r\n\t\t\tremoveNode.className = 'dashicons-no-alt dashicons';\r\n\t\t\tremoveNode.title = calendarpSettings.removeTitle;\r\n\t\t\tremoveNode.addEventListener('click', function (e) {\r\n\t\t\t\t// Remove the list item on click\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tremoveUserRowElement(this.getAttribute('data-id'));\r\n\t\t\t});\r\n\t\t\tlistNode.appendChild(removeNode);\r\n\t\t}\r\n\r\n\r\n\t\tusersList.appendChild(listNode);\r\n\t}\r\n\r\n\tcalendarpSettings.usersList.forEach(addUserRowElement);\r\n\r\n\tif (allowUserSelector) {\r\n\t\t// Toggle allow button when the select changes\r\n\t\tallowUserSelector.addEventListener('change', function () {\r\n\t\t\tlet className = 'hidden';\r\n\t\t\tif (this.value) {\r\n\t\t\t\tif (allowUserButton.classList)\r\n\t\t\t\t\tallowUserButton.classList.remove(className);\r\n\t\t\t\telse\r\n\t\t\t\t\tallowUserButton.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (allowUserButton.classList) {\r\n\t\t\t\t\tallowUserButton.classList.add(className);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tallowUserButton.className += ' ' + className;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Add new user when clicking on Allow button\r\n\t\tallowUserButton.addEventListener('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.setAttribute('disabled', 'disabled');\r\n\t\t\tcall('calendarp_add_new_allowed_user', {id: allowUserSelector.value})\r\n\t\t\t\t.always(function (response) {\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\taddUserRowElement(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallowUserButton.removeAttribute('disabled');\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQwLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw0QkFBNEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWxlbmRhci1wbHVzLy4vX3NyYy9hZG1pbi9zZXR0aW5ncy9zZXR0aW5ncy5qcz80MWUzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRsZXQgdXNlcnNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFycC11c2VycycpO1xyXG5cdGxldCBhbGxvd1VzZXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3ctdXNlci1hZGQnKTtcclxuXHRsZXQgYWxsb3dVc2VyU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3ctdXNlcicpO1xyXG5cclxuXHQvKipcclxuXHQgKiBNYWtlIGFuIEFKQVggY2FsbFxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGNhbGwoYWN0aW9uLCBkYXRhKSB7XHJcblx0XHRkYXRhLmFjdGlvbiA9IGFjdGlvbjtcclxuXHRcdGRhdGEubm9uY2UgPSBjYWxlbmRhcnBTZXR0aW5ncy5ub25jZTtcclxuXHRcdHJldHVybiBqUXVlcnkucG9zdChhamF4dXJsLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZSBhIHVzZXIgcm93XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gcmVtb3ZlVXNlclJvd0VsZW1lbnQoaWQpIHtcclxuXHRcdGlmIChjb25maXJtKCdBcmUgeW91IHN1cmU/JykpIHtcclxuXHRcdFx0bGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJwLScgKyBpZCk7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0ZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG5cdFx0XHRcdGNhbGwoJ2NhbGVuZGFycF9yZW1vdmVfdXNlcicsIHtpZDogaWR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGEgbmV3IHVzZXIgcm93XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gYWRkVXNlclJvd0VsZW1lbnQodXNlcikge1xyXG5cdFx0bGV0IGxpc3ROb2RlLCBsaW5rTm9kZSwgcmVtb3ZlTm9kZSwgc3Bhbk5vZGU7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHRoZSBsaXN0IGl0ZW1cclxuXHRcdGxpc3ROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdGxpc3ROb2RlLmlkID0gJ2NhbGVuZGFycC0nICsgdXNlci5pZDtcclxuXHJcblx0XHRpZiAodXNlci5saW5rKSB7XHJcblx0XHRcdC8vIFVzZXIgaGFzIGVkaXQgbGlua1xyXG5cdFx0XHRsaW5rTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0bGlua05vZGUuaHJlZiA9IHVzZXIubGluaztcclxuXHRcdFx0bGlua05vZGUuaW5uZXJIVE1MID0gdXNlci5uYW1lO1xyXG5cdFx0XHRsaW5rTm9kZS50aXRsZSA9IHVzZXIubGlua1RpdGxlO1xyXG5cdFx0XHRsaXN0Tm9kZS5hcHBlbmRDaGlsZChsaW5rTm9kZSk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0c3Bhbk5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdHNwYW5Ob2RlLmlubmVySFRNTCA9IHVzZXIubmFtZTtcclxuXHRcdFx0bGlzdE5vZGUuYXBwZW5kQ2hpbGQoc3Bhbk5vZGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh1c2VyLnJlbW92YWJsZSkge1xyXG5cdFx0XHQvLyBUaGUgcmVtb3ZlIGxpbmsuIE9ubHkgZm9yIHVzZXJzIHRoYXQgYXJlIG5vdCB0aGUgY3VycmVudCBvbmVcclxuXHRcdFx0cmVtb3ZlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0cmVtb3ZlTm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB1c2VyLmlkKTtcclxuXHRcdFx0cmVtb3ZlTm9kZS5ocmVmID0gJyMnO1xyXG5cdFx0XHRyZW1vdmVOb2RlLmNsYXNzTmFtZSA9ICdkYXNoaWNvbnMtbm8tYWx0IGRhc2hpY29ucyc7XHJcblx0XHRcdHJlbW92ZU5vZGUudGl0bGUgPSBjYWxlbmRhcnBTZXR0aW5ncy5yZW1vdmVUaXRsZTtcclxuXHRcdFx0cmVtb3ZlTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0gb24gY2xpY2tcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmVtb3ZlVXNlclJvd0VsZW1lbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRsaXN0Tm9kZS5hcHBlbmRDaGlsZChyZW1vdmVOb2RlKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0dXNlcnNMaXN0LmFwcGVuZENoaWxkKGxpc3ROb2RlKTtcclxuXHR9XHJcblxyXG5cdGNhbGVuZGFycFNldHRpbmdzLnVzZXJzTGlzdC5mb3JFYWNoKGFkZFVzZXJSb3dFbGVtZW50KTtcclxuXHJcblx0aWYgKGFsbG93VXNlclNlbGVjdG9yKSB7XHJcblx0XHQvLyBUb2dnbGUgYWxsb3cgYnV0dG9uIHdoZW4gdGhlIHNlbGVjdCBjaGFuZ2VzXHJcblx0XHRhbGxvd1VzZXJTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGxldCBjbGFzc05hbWUgPSAnaGlkZGVuJztcclxuXHRcdFx0aWYgKHRoaXMudmFsdWUpIHtcclxuXHRcdFx0XHRpZiAoYWxsb3dVc2VyQnV0dG9uLmNsYXNzTGlzdClcclxuXHRcdFx0XHRcdGFsbG93VXNlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0YWxsb3dVc2VyQnV0dG9uLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKGFsbG93VXNlckJ1dHRvbi5jbGFzc0xpc3QpIHtcclxuXHRcdFx0XHRcdGFsbG93VXNlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0YWxsb3dVc2VyQnV0dG9uLmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgbmV3IHVzZXIgd2hlbiBjbGlja2luZyBvbiBBbGxvdyBidXR0b25cclxuXHRcdGFsbG93VXNlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcblx0XHRcdGNhbGwoJ2NhbGVuZGFycF9hZGRfbmV3X2FsbG93ZWRfdXNlcicsIHtpZDogYWxsb3dVc2VyU2VsZWN0b3IudmFsdWV9KVxyXG5cdFx0XHRcdC5hbHdheXMoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRhZGRVc2VyUm93RWxlbWVudChyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGFsbG93VXNlckJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59KCkpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///840\n")}},__webpack_exports__={};__webpack_modules__[840]()})();