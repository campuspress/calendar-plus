!function(t){var d={};function c(X){if(d[X])return d[X].exports;var F=d[X]={i:X,l:!1,exports:{}};return t[X].call(F.exports,F,F.exports,c),F.l=!0,F.exports}c.m=t,c.c=d,c.d=function(t,d,X){c.o(t,d)||Object.defineProperty(t,d,{enumerable:!0,get:X})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,d){if(1&d&&(t=c(t)),8&d)return t;if(4&d&&"object"==typeof t&&t&&t.__esModule)return t;var X=Object.create(null);if(c.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:t}),2&d&&"string"!=typeof t)for(var F in t)c.d(X,F,function(d){return t[d]}.bind(null,F));return X},c.n=function(t){var d=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(d,"a",d),d},c.o=function(t,d){return Object.prototype.hasOwnProperty.call(t,d)},c.p="",c(c.s=12)}({12:function(module,exports){eval("(function ($) {\n\ttinymce.PluginManager.add('calendarp_shortcodes', function (editor) {\n\t\tlet ed = tinymce.activeEditor;\n\n\t\tlet buildTermCheckboxes = function (values, prefix) {\n\t\t\tlet checkboxes = [];\n\n\t\t\tfor (let i in values) {\n\t\t\t\tif (values.hasOwnProperty(i)) {\n\t\t\t\t\tcheckboxes.push({\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\tname: prefix + values[i].value,\n\t\t\t\t\t\ttext: values[i].text,\n\t\t\t\t\t\tvalue: values[i].value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn checkboxes;\n\t\t};\n\n\t\tlet categoryValues = ed.getLang('calendarp_l10n.category_field_values');\n\t\tlet tagValues = ed.getLang('calendarp_l10n.tag_field_values');\n\n\t\tlet categoriesCheckboxes = buildTermCheckboxes(categoryValues, 'category_');\n\t\tlet tagsCheckboxes = buildTermCheckboxes(tagValues, 'tag_');\n\n\t\tlet categoriesValues = categoryValues;\n\n\t\tlet calendarp_menu = [\n\t\t\t{\n\t\t\t\ttext: ed.getLang('calendarp_l10n.calendar_title'),\n\t\t\t\tonclick: function () {\n\t\t\t\t\teditor.windowManager.open({\n\t\t\t\t\t\ttitle: ed.getLang('calendarp_l10n.calendar_title'),\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'infobox',\n\t\t\t\t\t\t\t\tclasses: 'categories-infobox',\n\t\t\t\t\t\t\t\tminHeight: 50,\n\t\t\t\t\t\t\t\tborder: 'none'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'categories_list_start',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.category_field_title'),\n\t\t\t\t\t\t\t\titems: categoriesCheckboxes,\n\t\t\t\t\t\t\t\thtml: '<div class=\"calp_mce_categories_list\">'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'categories_list_end',\n\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\thtml: '</div>'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'default_view_field',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.default_view_title'),\n\t\t\t\t\t\t\t\tvalues: ed.getLang('calendarp_l10n.default_view_values'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'time_format',\n\t\t\t\t\t\t\t\tlabel: 'Time format',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{text: '11:00 pm', value: 'g:i a'},\n\t\t\t\t\t\t\t\t\t{text: '23:00', value: 'H:i'}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'dow_format',\n\t\t\t\t\t\t\t\tlabel: 'Day of the week format',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{text: 'Sunday', value: 'l'},\n\t\t\t\t\t\t\t\t\t{text: 'Sun', value: 'D'}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'month_name_format',\n\t\t\t\t\t\t\t\tlabel: 'Month name format',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{text: 'Jan', value: 'M'},\n\t\t\t\t\t\t\t\t\t{text: 'January', value: 'F'}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'day_format',\n\t\t\t\t\t\t\t\tlabel: 'Day format',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{text: '09', value: 'd'},\n\t\t\t\t\t\t\t\t\t{text: '9', value: 'j'}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'listbox',\n\t\t\t\t\t\t\t\tname: 'date_format',\n\t\t\t\t\t\t\t\tlabel: 'Date format',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{text: '15/09', value: 'd/m'},\n\t\t\t\t\t\t\t\t\t{text: '15/9', value: 'j/n'},\n\t\t\t\t\t\t\t\t\t{text: '09/15', value: 'm/d'},\n\t\t\t\t\t\t\t\t\t{text: '9/15', value: 'n/j'}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'infobox',\n\t\t\t\t\t\t\t\tclasses: 'day-format-infobox',\n\t\t\t\t\t\t\t\tminHeight: 34,\n\t\t\t\t\t\t\t\tborder: 'none'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonopen: function (e) {\n\t\t\t\t\t\t\te.target.$el.find('.mce-day-format-infobox')\n\t\t\t\t\t\t\t\t.append('<a target=\"_blank\" href=\"https://codex.wordpress.org/Formatting_Date_and_Time\">Documentation on date and time formatting</a>')\n\t\t\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\t\t\tcolor: '#0073aa',\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\te.target.$el.find('.mce-categories-infobox')\n\t\t\t\t\t\t\t\t.prepend('<p>' + ed.getLang('calendarp_l10n.category_field_info') + '</p>');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonsubmit: function (e) {\n\t\t\t\t\t\t\tlet category_field,\n\t\t\t\t\t\t\t\tdefault_view_field,\n\t\t\t\t\t\t\t\tselectedCategories,\n\t\t\t\t\t\t\t\ttime_format,\n\t\t\t\t\t\t\t\tdow_format,\n\t\t\t\t\t\t\t\tmonth_name_format,\n\t\t\t\t\t\t\t\tday_format,\n\t\t\t\t\t\t\t\tdate_format;\n\n\t\t\t\t\t\t\tselectedCategories = [];\n\t\t\t\t\t\t\tfor (i in categoriesValues) {\n\t\t\t\t\t\t\t\tif (categoriesValues.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\t\tif (true === e.data['category_' + categoriesValues[i].value]) {\n\t\t\t\t\t\t\t\t\t\tselectedCategories.push(categoriesValues[i].value);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (0 !== selectedCategories.length) {\n\t\t\t\t\t\t\t\tcategory_field = ' category=\"' + selectedCategories.join(',') + '\"';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcategory_field = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.default_view_field !== 'month') {\n\t\t\t\t\t\t\t\tdefault_view_field = ' view=\"' + e.data.default_view_field + '\"';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefault_view_field = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.time_format !== ed.getLang('calendarp_l10n.default_time_format')) {\n\t\t\t\t\t\t\t\ttime_format = ' time_format=\"' + e.data.time_format + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ttime_format = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.dow_format !== 'l') {\n\t\t\t\t\t\t\t\tdow_format = ' dow_format=\"' + e.data.dow_format + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tdow_format = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.month_name_format !== 'M') {\n\t\t\t\t\t\t\t\tmonth_name_format = ' month_name_format=\"' + e.data.month_name_format + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tmonth_name_format = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.day_format !== 'd') {\n\t\t\t\t\t\t\t\tday_format = ' day_format=\"' + e.data.day_format + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tday_format = '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (e.data.date_format !== 'd/m') {\n\t\t\t\t\t\t\t\tdate_format = ' date_format=\"' + e.data.date_format + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tdate_format = '';\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\teditor.insertContent('[calendarp-calendar'\n\t\t\t\t\t\t\t\t+ category_field\n\t\t\t\t\t\t\t\t+ default_view_field\n\t\t\t\t\t\t\t\t+ time_format\n\t\t\t\t\t\t\t\t+ dow_format\n\t\t\t\t\t\t\t\t+ month_name_format\n\t\t\t\t\t\t\t\t+ date_format\n\t\t\t\t\t\t\t\t+ day_format\n\t\t\t\t\t\t\t\t+ ']');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: ed.getLang('calendarp_l10n.events_by_cat_title'),\n\t\t\t\tonclick: function () {\n\t\t\t\t\teditor.windowManager.open({\n\t\t\t\t\t\ttitle: ed.getLang('calendarp_l10n.events_by_cat_title'),\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'infobox',\n\t\t\t\t\t\t\t\tclasses: 'categories-infobox',\n\t\t\t\t\t\t\t\tminHeight: 50,\n\t\t\t\t\t\t\t\tborder: 'none'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'events_by_cat_categories_list_start',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.events_by_cat_category_field_title'),\n\t\t\t\t\t\t\t\titems: categoriesCheckboxes,\n\t\t\t\t\t\t\t\thtml: '<div class=\"calp_mce_categories_list\">'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'events_by_cat_categories_list_end',\n\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\thtml: '</div>'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'events_by_cat_tags_list_start',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.events_by_cat_tag_field_title'),\n\t\t\t\t\t\t\t\titems: tagsCheckboxes,\n\t\t\t\t\t\t\t\thtml: '<div class=\"calp_mce_tags_list\">'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'container',\n\t\t\t\t\t\t\t\tname: 'events_by_cat_tags_list_end',\n\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\thtml: '</div>'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'textbox',\n\t\t\t\t\t\t\t\tname: 'events_by_cat_events_count_field',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.events_by_cat_events_count_field_title'),\n\t\t\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t\t\t\tmaxLength: 3,\n\t\t\t\t\t\t\t\tsize: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonopen: function (e) {\n\t\t\t\t\t\t\te.target.$el.find('.mce-categories-infobox')\n\t\t\t\t\t\t\t\t.prepend('<p>' + ed.getLang('calendarp_l10n.events_by_cat_info') + '</p>');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonsubmit: function (e) {\n\n\t\t\t\t\t\t\tlet extractTerms = function (values, prefix) {\n\t\t\t\t\t\t\t\tlet selected = [];\n\n\t\t\t\t\t\t\t\tfor (let i in values) {\n\t\t\t\t\t\t\t\t\tif (values.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\t\t\tif (true === e.data[prefix + values[i].value]) {\n\t\t\t\t\t\t\t\t\t\t\tselected.push(values[i].value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn selected;\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tlet selectedCategories = extractTerms(categoryValues, 'category_');\n\t\t\t\t\t\t\tlet selectedTags = extractTerms(tagValues, 'tag_');\n\n\t\t\t\t\t\t\tlet category_field = (0 === selectedCategories.length) ? '' :\n\t\t\t\t\t\t\t\t' category=\"' + selectedCategories.join(',') + '\"';\n\n\t\t\t\t\t\t\tlet tag_field = (0 === selectedTags.length) ? '' :\n\t\t\t\t\t\t\t\t' tag=\"' + selectedTags.join(',') + '\"';\n\n\t\t\t\t\t\t\tlet events_field = (e.data.events_by_cat_events_count_field !== '0') ?\n\t\t\t\t\t\t\t\t' events=\"' + e.data.events_by_cat_events_count_field + '\"' : '';\n\n\t\t\t\t\t\t\teditor.insertContent('[calendarp-events-list' + category_field + tag_field + events_field + ']');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: ed.getLang('calendarp_l10n.single_event_title'),\n\t\t\t\tonclick: function () {\n\t\t\t\t\teditor.windowManager.open({\n\t\t\t\t\t\ttitle: ed.getLang('calendarp_l10n.single_event_title'),\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'textbox',\n\t\t\t\t\t\t\t\tname: 'event_title',\n\t\t\t\t\t\t\t\tclasses: 'event-title-field',\n\t\t\t\t\t\t\t\tlabel: ed.getLang('calendarp_l10n.search_event'),\n\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\tsize: 25\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'textbox',\n\t\t\t\t\t\t\t\tname: 'event_id',\n\t\t\t\t\t\t\t\tclasses: 'event-id-field',\n\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\thidden: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonopen: function (e) {\n\t\t\t\t\t\t\tlet $el = jQuery(e.target.$el.find('.mce-event-title-field'));\n\t\t\t\t\t\t\t// Set a placeholder\n\t\t\t\t\t\t\t$el.attr('placeholder', ed.getLang('calendarp_l10n.search_event_by_title'));\n\t\t\t\t\t\t\tlet $idField = jQuery(e.target.$el.find('.mce-event-id-field'));\n\t\t\t\t\t\t\t$el.autocomplete({\n\t\t\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\t\t\tlet eventApi = new wp.api.collections.Calendar_event();\n\t\t\t\t\t\t\t\t\teventApi\n\t\t\t\t\t\t\t\t\t\t.fetch({data: {search: request.term}})\n\t\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\t\tlet dataLength = data.length,\n\t\t\t\t\t\t\t\t\t\t\t\tparsedData = [],\n\t\t\t\t\t\t\t\t\t\t\t\ti;\n\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tparsedData.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: data[i].id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// HTML is expected in title, just get the text\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: jQuery('<span />').html(data[i].title.rendered).text()\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Return the data to autocomplete\n\t\t\t\t\t\t\t\t\t\t\tresponse(parsedData);\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tappendTo: $el.parent(),\n\t\t\t\t\t\t\t\tsearch: function () {\n\t\t\t\t\t\t\t\t\t$idField.val('');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\t\t\t\t$idField.val(ui.item.id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonsubmit: function (e) {\n\t\t\t\t\t\t\tlet event_id_field;\n\t\t\t\t\t\t\tif (e.data.event_id != 'all')\n\t\t\t\t\t\t\t\tevent_id_field = ' event_id=\"' + e.data.event_id + '\"';\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tevent_id_field = '';\n\n\t\t\t\t\t\t\teditor.insertContent('[calendarp-event' + event_id_field + ']');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\teditor.addButton('calendarp_shortcodes', {\n\t\t\ticon: 'mce-i-calendarp',\n\t\t\tmenu: calendarp_menu,\n\t\t\ttype: 'menubutton'\n\t\t});\n\t});\n\n\n})(jQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fc3JjL2FkbWluL2VkaXRvci1zaG9ydGNvZGUvZWRpdG9yLXNob3J0Y29kZS5qcz9iNGI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUNBQWlDO0FBQzNDLFVBQVU7QUFDVjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckMsVUFBVTtBQUNWO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdCQUF3QjtBQUNsQyxVQUFVO0FBQ1Y7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdUJBQXVCO0FBQ2pDLFVBQVU7QUFDVjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw0QkFBNEI7QUFDdEMsVUFBVSwyQkFBMkI7QUFDckMsVUFBVSw0QkFBNEI7QUFDdEMsVUFBVTtBQUNWO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPLHNCQUFzQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsZ0JBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQSxXQUFXOztBQUVYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7O0FBR0YsQ0FBQyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1xuXHR0aW55bWNlLlBsdWdpbk1hbmFnZXIuYWRkKCdjYWxlbmRhcnBfc2hvcnRjb2RlcycsIGZ1bmN0aW9uIChlZGl0b3IpIHtcblx0XHRsZXQgZWQgPSB0aW55bWNlLmFjdGl2ZUVkaXRvcjtcblxuXHRcdGxldCBidWlsZFRlcm1DaGVja2JveGVzID0gZnVuY3Rpb24gKHZhbHVlcywgcHJlZml4KSB7XG5cdFx0XHRsZXQgY2hlY2tib3hlcyA9IFtdO1xuXG5cdFx0XHRmb3IgKGxldCBpIGluIHZhbHVlcykge1xuXHRcdFx0XHRpZiAodmFsdWVzLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0Y2hlY2tib3hlcy5wdXNoKHtcblx0XHRcdFx0XHRcdHR5cGU6ICdjaGVja2JveCcsXG5cdFx0XHRcdFx0XHRuYW1lOiBwcmVmaXggKyB2YWx1ZXNbaV0udmFsdWUsXG5cdFx0XHRcdFx0XHR0ZXh0OiB2YWx1ZXNbaV0udGV4dCxcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZXNbaV0udmFsdWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gY2hlY2tib3hlcztcblx0XHR9O1xuXG5cdFx0bGV0IGNhdGVnb3J5VmFsdWVzID0gZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uY2F0ZWdvcnlfZmllbGRfdmFsdWVzJyk7XG5cdFx0bGV0IHRhZ1ZhbHVlcyA9IGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLnRhZ19maWVsZF92YWx1ZXMnKTtcblxuXHRcdGxldCBjYXRlZ29yaWVzQ2hlY2tib3hlcyA9IGJ1aWxkVGVybUNoZWNrYm94ZXMoY2F0ZWdvcnlWYWx1ZXMsICdjYXRlZ29yeV8nKTtcblx0XHRsZXQgdGFnc0NoZWNrYm94ZXMgPSBidWlsZFRlcm1DaGVja2JveGVzKHRhZ1ZhbHVlcywgJ3RhZ18nKTtcblxuXHRcdGxldCBjYXRlZ29yaWVzVmFsdWVzID0gY2F0ZWdvcnlWYWx1ZXM7XG5cblx0XHRsZXQgY2FsZW5kYXJwX21lbnUgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdHRleHQ6IGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLmNhbGVuZGFyX3RpdGxlJyksXG5cdFx0XHRcdG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRlZGl0b3Iud2luZG93TWFuYWdlci5vcGVuKHtcblx0XHRcdFx0XHRcdHRpdGxlOiBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5jYWxlbmRhcl90aXRsZScpLFxuXHRcdFx0XHRcdFx0Ym9keTogW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2luZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6ICdjYXRlZ29yaWVzLWluZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbkhlaWdodDogNTAsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyOiAnbm9uZSdcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdjb250YWluZXInLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdjYXRlZ29yaWVzX2xpc3Rfc3RhcnQnLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5jYXRlZ29yeV9maWVsZF90aXRsZScpLFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1zOiBjYXRlZ29yaWVzQ2hlY2tib3hlcyxcblx0XHRcdFx0XHRcdFx0XHRodG1sOiAnPGRpdiBjbGFzcz1cImNhbHBfbWNlX2NhdGVnb3JpZXNfbGlzdFwiPidcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdjb250YWluZXInLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdjYXRlZ29yaWVzX2xpc3RfZW5kJyxcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogJycsXG5cdFx0XHRcdFx0XHRcdFx0aHRtbDogJzwvZGl2Pidcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdsaXN0Ym94Jyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnZGVmYXVsdF92aWV3X2ZpZWxkJyxcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uZGVmYXVsdF92aWV3X3RpdGxlJyksXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzOiBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5kZWZhdWx0X3ZpZXdfdmFsdWVzJyksXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbGlzdGJveCcsXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJ3RpbWVfZm9ybWF0Jyxcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogJ1RpbWUgZm9ybWF0Jyxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZXM6IFtcblx0XHRcdFx0XHRcdFx0XHRcdHt0ZXh0OiAnMTE6MDAgcG0nLCB2YWx1ZTogJ2c6aSBhJ30sXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJzIzOjAwJywgdmFsdWU6ICdIOmknfVxuXHRcdFx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdsaXN0Ym94Jyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnZG93X2Zvcm1hdCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6ICdEYXkgb2YgdGhlIHdlZWsgZm9ybWF0Jyxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZXM6IFtcblx0XHRcdFx0XHRcdFx0XHRcdHt0ZXh0OiAnU3VuZGF5JywgdmFsdWU6ICdsJ30sXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJ1N1bicsIHZhbHVlOiAnRCd9XG5cdFx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2xpc3Rib3gnLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdtb250aF9uYW1lX2Zvcm1hdCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6ICdNb250aCBuYW1lIGZvcm1hdCcsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzOiBbXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJ0phbicsIHZhbHVlOiAnTSd9LFxuXHRcdFx0XHRcdFx0XHRcdFx0e3RleHQ6ICdKYW51YXJ5JywgdmFsdWU6ICdGJ31cblx0XHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbGlzdGJveCcsXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJ2RheV9mb3JtYXQnLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiAnRGF5IGZvcm1hdCcsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzOiBbXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJzA5JywgdmFsdWU6ICdkJ30sXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJzknLCB2YWx1ZTogJ2onfVxuXHRcdFx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdsaXN0Ym94Jyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnZGF0ZV9mb3JtYXQnLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiAnRGF0ZSBmb3JtYXQnLFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlczogW1xuXHRcdFx0XHRcdFx0XHRcdFx0e3RleHQ6ICcxNS8wOScsIHZhbHVlOiAnZC9tJ30sXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJzE1LzknLCB2YWx1ZTogJ2ovbid9LFxuXHRcdFx0XHRcdFx0XHRcdFx0e3RleHQ6ICcwOS8xNScsIHZhbHVlOiAnbS9kJ30sXG5cdFx0XHRcdFx0XHRcdFx0XHR7dGV4dDogJzkvMTUnLCB2YWx1ZTogJ24vaid9XG5cdFx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2luZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6ICdkYXktZm9ybWF0LWluZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbkhlaWdodDogMzQsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyOiAnbm9uZSdcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdG9ub3BlbjogZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0ZS50YXJnZXQuJGVsLmZpbmQoJy5tY2UtZGF5LWZvcm1hdC1pbmZvYm94Jylcblx0XHRcdFx0XHRcdFx0XHQuYXBwZW5kKCc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9jb2RleC53b3JkcHJlc3Mub3JnL0Zvcm1hdHRpbmdfRGF0ZV9hbmRfVGltZVwiPkRvY3VtZW50YXRpb24gb24gZGF0ZSBhbmQgdGltZSBmb3JtYXR0aW5nPC9hPicpXG5cdFx0XHRcdFx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogJyMwMDczYWEnLFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdGUudGFyZ2V0LiRlbC5maW5kKCcubWNlLWNhdGVnb3JpZXMtaW5mb2JveCcpXG5cdFx0XHRcdFx0XHRcdFx0LnByZXBlbmQoJzxwPicgKyBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5jYXRlZ29yeV9maWVsZF9pbmZvJykgKyAnPC9wPicpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdG9uc3VibWl0OiBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2F0ZWdvcnlfZmllbGQsXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdF92aWV3X2ZpZWxkLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkQ2F0ZWdvcmllcyxcblx0XHRcdFx0XHRcdFx0XHR0aW1lX2Zvcm1hdCxcblx0XHRcdFx0XHRcdFx0XHRkb3dfZm9ybWF0LFxuXHRcdFx0XHRcdFx0XHRcdG1vbnRoX25hbWVfZm9ybWF0LFxuXHRcdFx0XHRcdFx0XHRcdGRheV9mb3JtYXQsXG5cdFx0XHRcdFx0XHRcdFx0ZGF0ZV9mb3JtYXQ7XG5cblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRDYXRlZ29yaWVzID0gW107XG5cdFx0XHRcdFx0XHRcdGZvciAoaSBpbiBjYXRlZ29yaWVzVmFsdWVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGNhdGVnb3JpZXNWYWx1ZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICh0cnVlID09PSBlLmRhdGFbJ2NhdGVnb3J5XycgKyBjYXRlZ29yaWVzVmFsdWVzW2ldLnZhbHVlXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZENhdGVnb3JpZXMucHVzaChjYXRlZ29yaWVzVmFsdWVzW2ldLnZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoMCAhPT0gc2VsZWN0ZWRDYXRlZ29yaWVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhdGVnb3J5X2ZpZWxkID0gJyBjYXRlZ29yeT1cIicgKyBzZWxlY3RlZENhdGVnb3JpZXMuam9pbignLCcpICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjYXRlZ29yeV9maWVsZCA9ICcnO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGUuZGF0YS5kZWZhdWx0X3ZpZXdfZmllbGQgIT09ICdtb250aCcpIHtcblx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0X3ZpZXdfZmllbGQgPSAnIHZpZXc9XCInICsgZS5kYXRhLmRlZmF1bHRfdmlld19maWVsZCArICdcIic7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdF92aWV3X2ZpZWxkID0gJyc7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoZS5kYXRhLnRpbWVfZm9ybWF0ICE9PSBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5kZWZhdWx0X3RpbWVfZm9ybWF0JykpIHtcblx0XHRcdFx0XHRcdFx0XHR0aW1lX2Zvcm1hdCA9ICcgdGltZV9mb3JtYXQ9XCInICsgZS5kYXRhLnRpbWVfZm9ybWF0ICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aW1lX2Zvcm1hdCA9ICcnO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGUuZGF0YS5kb3dfZm9ybWF0ICE9PSAnbCcpIHtcblx0XHRcdFx0XHRcdFx0XHRkb3dfZm9ybWF0ID0gJyBkb3dfZm9ybWF0PVwiJyArIGUuZGF0YS5kb3dfZm9ybWF0ICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRkb3dfZm9ybWF0ID0gJyc7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoZS5kYXRhLm1vbnRoX25hbWVfZm9ybWF0ICE9PSAnTScpIHtcblx0XHRcdFx0XHRcdFx0XHRtb250aF9uYW1lX2Zvcm1hdCA9ICcgbW9udGhfbmFtZV9mb3JtYXQ9XCInICsgZS5kYXRhLm1vbnRoX25hbWVfZm9ybWF0ICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRtb250aF9uYW1lX2Zvcm1hdCA9ICcnO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGUuZGF0YS5kYXlfZm9ybWF0ICE9PSAnZCcpIHtcblx0XHRcdFx0XHRcdFx0XHRkYXlfZm9ybWF0ID0gJyBkYXlfZm9ybWF0PVwiJyArIGUuZGF0YS5kYXlfZm9ybWF0ICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRkYXlfZm9ybWF0ID0gJyc7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoZS5kYXRhLmRhdGVfZm9ybWF0ICE9PSAnZC9tJykge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGVfZm9ybWF0ID0gJyBkYXRlX2Zvcm1hdD1cIicgKyBlLmRhdGEuZGF0ZV9mb3JtYXQgKyAnXCInO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGVfZm9ybWF0ID0gJyc7XG5cdFx0XHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0XHRcdGVkaXRvci5pbnNlcnRDb250ZW50KCdbY2FsZW5kYXJwLWNhbGVuZGFyJ1xuXHRcdFx0XHRcdFx0XHRcdCsgY2F0ZWdvcnlfZmllbGRcblx0XHRcdFx0XHRcdFx0XHQrIGRlZmF1bHRfdmlld19maWVsZFxuXHRcdFx0XHRcdFx0XHRcdCsgdGltZV9mb3JtYXRcblx0XHRcdFx0XHRcdFx0XHQrIGRvd19mb3JtYXRcblx0XHRcdFx0XHRcdFx0XHQrIG1vbnRoX25hbWVfZm9ybWF0XG5cdFx0XHRcdFx0XHRcdFx0KyBkYXRlX2Zvcm1hdFxuXHRcdFx0XHRcdFx0XHRcdCsgZGF5X2Zvcm1hdFxuXHRcdFx0XHRcdFx0XHRcdCsgJ10nKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dGV4dDogZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uZXZlbnRzX2J5X2NhdF90aXRsZScpLFxuXHRcdFx0XHRvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0ZWRpdG9yLndpbmRvd01hbmFnZXIub3Blbih7XG5cdFx0XHRcdFx0XHR0aXRsZTogZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uZXZlbnRzX2J5X2NhdF90aXRsZScpLFxuXHRcdFx0XHRcdFx0Ym9keTogW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2luZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6ICdjYXRlZ29yaWVzLWluZm9ib3gnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbkhlaWdodDogNTAsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyOiAnbm9uZSdcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdjb250YWluZXInLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdldmVudHNfYnlfY2F0X2NhdGVnb3JpZXNfbGlzdF9zdGFydCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLmV2ZW50c19ieV9jYXRfY2F0ZWdvcnlfZmllbGRfdGl0bGUnKSxcblx0XHRcdFx0XHRcdFx0XHRpdGVtczogY2F0ZWdvcmllc0NoZWNrYm94ZXMsXG5cdFx0XHRcdFx0XHRcdFx0aHRtbDogJzxkaXYgY2xhc3M9XCJjYWxwX21jZV9jYXRlZ29yaWVzX2xpc3RcIj4nXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnY29udGFpbmVyJyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnZXZlbnRzX2J5X2NhdF9jYXRlZ29yaWVzX2xpc3RfZW5kJyxcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogJycsXG5cdFx0XHRcdFx0XHRcdFx0aHRtbDogJzwvZGl2Pidcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdjb250YWluZXInLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdldmVudHNfYnlfY2F0X3RhZ3NfbGlzdF9zdGFydCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLmV2ZW50c19ieV9jYXRfdGFnX2ZpZWxkX3RpdGxlJyksXG5cdFx0XHRcdFx0XHRcdFx0aXRlbXM6IHRhZ3NDaGVja2JveGVzLFxuXHRcdFx0XHRcdFx0XHRcdGh0bWw6ICc8ZGl2IGNsYXNzPVwiY2FscF9tY2VfdGFnc19saXN0XCI+J1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2NvbnRhaW5lcicsXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJ2V2ZW50c19ieV9jYXRfdGFnc19saXN0X2VuZCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6ICcnLFxuXHRcdFx0XHRcdFx0XHRcdGh0bWw6ICc8L2Rpdj4nXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndGV4dGJveCcsXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJ2V2ZW50c19ieV9jYXRfZXZlbnRzX2NvdW50X2ZpZWxkJyxcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uZXZlbnRzX2J5X2NhdF9ldmVudHNfY291bnRfZmllbGRfdGl0bGUnKSxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogJzAnLFxuXHRcdFx0XHRcdFx0XHRcdG1heExlbmd0aDogMyxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiAzXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRvbm9wZW46IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdGUudGFyZ2V0LiRlbC5maW5kKCcubWNlLWNhdGVnb3JpZXMtaW5mb2JveCcpXG5cdFx0XHRcdFx0XHRcdFx0LnByZXBlbmQoJzxwPicgKyBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5ldmVudHNfYnlfY2F0X2luZm8nKSArICc8L3A+Jyk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0b25zdWJtaXQ6IGZ1bmN0aW9uIChlKSB7XG5cblx0XHRcdFx0XHRcdFx0bGV0IGV4dHJhY3RUZXJtcyA9IGZ1bmN0aW9uICh2YWx1ZXMsIHByZWZpeCkge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBzZWxlY3RlZCA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSBpbiB2YWx1ZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRydWUgPT09IGUuZGF0YVtwcmVmaXggKyB2YWx1ZXNbaV0udmFsdWVdKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQucHVzaCh2YWx1ZXNbaV0udmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdGxldCBzZWxlY3RlZENhdGVnb3JpZXMgPSBleHRyYWN0VGVybXMoY2F0ZWdvcnlWYWx1ZXMsICdjYXRlZ29yeV8nKTtcblx0XHRcdFx0XHRcdFx0bGV0IHNlbGVjdGVkVGFncyA9IGV4dHJhY3RUZXJtcyh0YWdWYWx1ZXMsICd0YWdfJyk7XG5cblx0XHRcdFx0XHRcdFx0bGV0IGNhdGVnb3J5X2ZpZWxkID0gKDAgPT09IHNlbGVjdGVkQ2F0ZWdvcmllcy5sZW5ndGgpID8gJycgOlxuXHRcdFx0XHRcdFx0XHRcdCcgY2F0ZWdvcnk9XCInICsgc2VsZWN0ZWRDYXRlZ29yaWVzLmpvaW4oJywnKSArICdcIic7XG5cblx0XHRcdFx0XHRcdFx0bGV0IHRhZ19maWVsZCA9ICgwID09PSBzZWxlY3RlZFRhZ3MubGVuZ3RoKSA/ICcnIDpcblx0XHRcdFx0XHRcdFx0XHQnIHRhZz1cIicgKyBzZWxlY3RlZFRhZ3Muam9pbignLCcpICsgJ1wiJztcblxuXHRcdFx0XHRcdFx0XHRsZXQgZXZlbnRzX2ZpZWxkID0gKGUuZGF0YS5ldmVudHNfYnlfY2F0X2V2ZW50c19jb3VudF9maWVsZCAhPT0gJzAnKSA/XG5cdFx0XHRcdFx0XHRcdFx0JyBldmVudHM9XCInICsgZS5kYXRhLmV2ZW50c19ieV9jYXRfZXZlbnRzX2NvdW50X2ZpZWxkICsgJ1wiJyA6ICcnO1xuXG5cdFx0XHRcdFx0XHRcdGVkaXRvci5pbnNlcnRDb250ZW50KCdbY2FsZW5kYXJwLWV2ZW50cy1saXN0JyArIGNhdGVnb3J5X2ZpZWxkICsgdGFnX2ZpZWxkICsgZXZlbnRzX2ZpZWxkICsgJ10nKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dGV4dDogZWQuZ2V0TGFuZygnY2FsZW5kYXJwX2wxMG4uc2luZ2xlX2V2ZW50X3RpdGxlJyksXG5cdFx0XHRcdG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRlZGl0b3Iud2luZG93TWFuYWdlci5vcGVuKHtcblx0XHRcdFx0XHRcdHRpdGxlOiBlZC5nZXRMYW5nKCdjYWxlbmRhcnBfbDEwbi5zaW5nbGVfZXZlbnRfdGl0bGUnKSxcblx0XHRcdFx0XHRcdGJvZHk6IFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICd0ZXh0Ym94Jyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnZXZlbnRfdGl0bGUnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6ICdldmVudC10aXRsZS1maWVsZCcsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLnNlYXJjaF9ldmVudCcpLFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiAyNVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ3RleHRib3gnLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdldmVudF9pZCcsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogJ2V2ZW50LWlkLWZpZWxkJyxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogJycsXG5cdFx0XHRcdFx0XHRcdFx0aGlkZGVuOiB0cnVlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRvbm9wZW46IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdGxldCAkZWwgPSBqUXVlcnkoZS50YXJnZXQuJGVsLmZpbmQoJy5tY2UtZXZlbnQtdGl0bGUtZmllbGQnKSk7XG5cdFx0XHRcdFx0XHRcdC8vIFNldCBhIHBsYWNlaG9sZGVyXG5cdFx0XHRcdFx0XHRcdCRlbC5hdHRyKCdwbGFjZWhvbGRlcicsIGVkLmdldExhbmcoJ2NhbGVuZGFycF9sMTBuLnNlYXJjaF9ldmVudF9ieV90aXRsZScpKTtcblx0XHRcdFx0XHRcdFx0bGV0ICRpZEZpZWxkID0galF1ZXJ5KGUudGFyZ2V0LiRlbC5maW5kKCcubWNlLWV2ZW50LWlkLWZpZWxkJykpO1xuXHRcdFx0XHRcdFx0XHQkZWwuYXV0b2NvbXBsZXRlKHtcblx0XHRcdFx0XHRcdFx0XHRzb3VyY2U6IGZ1bmN0aW9uIChyZXF1ZXN0LCByZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGV2ZW50QXBpID0gbmV3IHdwLmFwaS5jb2xsZWN0aW9ucy5DYWxlbmRhcl9ldmVudCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRBcGlcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZldGNoKHtkYXRhOiB7c2VhcmNoOiByZXF1ZXN0LnRlcm19fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VkRGF0YSA9IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlZERhdGEucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBkYXRhW2ldLmlkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBIVE1MIGlzIGV4cGVjdGVkIGluIHRpdGxlLCBqdXN0IGdldCB0aGUgdGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsYWJlbDogalF1ZXJ5KCc8c3BhbiAvPicpLmh0bWwoZGF0YVtpXS50aXRsZS5yZW5kZXJlZCkudGV4dCgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXR1cm4gdGhlIGRhdGEgdG8gYXV0b2NvbXBsZXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2UocGFyc2VkRGF0YSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRhcHBlbmRUbzogJGVsLnBhcmVudCgpLFxuXHRcdFx0XHRcdFx0XHRcdHNlYXJjaDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0JGlkRmllbGQudmFsKCcnKTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdDogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0JGlkRmllbGQudmFsKHVpLml0ZW0uaWQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0b25zdWJtaXQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdGxldCBldmVudF9pZF9maWVsZDtcblx0XHRcdFx0XHRcdFx0aWYgKGUuZGF0YS5ldmVudF9pZCAhPSAnYWxsJylcblx0XHRcdFx0XHRcdFx0XHRldmVudF9pZF9maWVsZCA9ICcgZXZlbnRfaWQ9XCInICsgZS5kYXRhLmV2ZW50X2lkICsgJ1wiJztcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGV2ZW50X2lkX2ZpZWxkID0gJyc7XG5cblx0XHRcdFx0XHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoJ1tjYWxlbmRhcnAtZXZlbnQnICsgZXZlbnRfaWRfZmllbGQgKyAnXScpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XTtcblxuXHRcdGVkaXRvci5hZGRCdXR0b24oJ2NhbGVuZGFycF9zaG9ydGNvZGVzJywge1xuXHRcdFx0aWNvbjogJ21jZS1pLWNhbGVuZGFycCcsXG5cdFx0XHRtZW51OiBjYWxlbmRhcnBfbWVudSxcblx0XHRcdHR5cGU6ICdtZW51YnV0dG9uJ1xuXHRcdH0pO1xuXHR9KTtcblxuXG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")}});